<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>

    <!-- BOOTSTRAP CSS: https://getbootstrap.com/docs/5.0/getting-started/introduction/ -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- BOOTSTRAP ICONS: https://getbootstrap.com/docs/5.0/getting-started/introduction/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
    <div class="container">
        <h1>ML Music 2023</h1>

        <h2>Artist Similarity Mapping</h2>

        <h3>Dimensionality Reduction</h3>

        <!--select name="track_length" id="track-length-selector">
            <option value="3">3 second tracks</option>
            <option value="30">30 second tracks</option>
        </select>

        <select name="n_mfcc" id="n-mfcc-selector">
            <option value="13">13 MFCCs</option>
        </select>

        <select name="reduction_method" id="reduction-method-selector">
            <option value="pca">PCA</option>
            <option value="tsne">T-SNE</option>
            <option value="umap">UMAP</option>
        </select>

        <select name="n_components" id="n-components-selector">
            <option value="2">2 components</option>
            <option value="3">3 components</option>
        </select-->

        <!--ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Active</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
        </ul-->

        <p class="lead">Two Components</p>
        <div class="table-responsive">
            <table class="table" id="results-table-2">
                <thead>
                    <tr>
                        <th>Track Length</th>
                        <th>Num MFCCs</th>
                        <th>Reduction Method</th>
                        <th>Num Components</th>
                        <th>Embeddings</th>
                        <th>Centroids</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>


        <p class="lead">Three Components</p>
        <div class="table-responsive">
            <table class="table" id="results-table-3">
                <thead>
                    <tr>
                        <th>Track Length</th>
                        <th>Num MFCCs</th>
                        <th>Reduction Method</th>
                        <th>Num Components</th>
                        <th>Embeddings</th>
                        <th>Centroids</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <footer>
            <a href="https://github.com/s2t2/ml-music-2023/pulls">source code</a>
        </footer>
    </div>

    <!-- BOOTSTRAP JS https://getbootstrap.com/docs/5.0/getting-started/introduction/ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script type="text/javascript">


        var methodsMap = {"pca": "PCA", "tsne": "T-SNE", "umap": "UMAP"}
        //var table = document.getElementById("results-table")
        //var tableBody = table.tBodies[0]

        var tbody2 = document.querySelector("#results-table-2 tbody")
        var tbody3 = document.querySelector("#results-table-3 tbody")

        function createRow(tbody, track_length, n_mfcc, reduction_method, n_components) {
            console.log("ROW:", track_length, n_mfcc, reduction_method, n_components)

            // Create a new row
            var row = document.createElement("tr")

            // Create a new cell for each column and add the data to it
            var trackLengthCell = document.createElement("td")
            trackLengthCell.textContent = track_length
            row.appendChild(trackLengthCell)

            var numMfccsCell = document.createElement("td")
            numMfccsCell.textContent = n_mfcc
            row.appendChild(numMfccsCell)

            var reductionMethodCell = document.createElement("td")
            reductionMethodCell.textContent =methodsMap[reduction_method]
            row.appendChild(reductionMethodCell)

            var numComponentsCell = document.createElement("td")
            numComponentsCell.textContent = n_components;
            row.appendChild(numComponentsCell);

            var embeddingsCell = document.createElement("td")
            //embeddingsCell.textContent = "results/____.html";
            var embeddingsLink = document.createElement("a")
            embeddingsLink.href = `results/youtube/length_${track_length}_mfcc_${n_mfcc}/${reduction_method}_${n_components}.html`
            embeddingsLink.textContent = "Track Embeddings"
            embeddingsCell.appendChild(embeddingsLink)
            row.appendChild(embeddingsCell)

            var centroidsCell = document.createElement("td")
            var centroidsLink = document.createElement("a")
            centroidsLink.href = `results/youtube/length_${track_length}_mfcc_${n_mfcc}/${reduction_method}_${n_components}_centroids.html`
            centroidsLink.textContent = "Artist Centroids"
            centroidsCell.appendChild(centroidsLink)
            row.appendChild(centroidsCell)

            tbody.appendChild(row)
        }





        var TRACK_LENGTHS = [3, 30]
        var NUMS_MFCC = [13]
        var REDUCTION_METHODS = ["pca", "tsne", "umap"]
        //var NUMS_COMPONENTS = [2,3]

        TRACK_LENGTHS.forEach(function(track_length){
        NUMS_MFCC.forEach(function(n_mfcc){
        REDUCTION_METHODS.forEach(function(reduction_method){

            createRow(tbody2, track_length, n_mfcc, reduction_method, 2)

        })
        })
        })


        TRACK_LENGTHS.forEach(function(track_length){
        NUMS_MFCC.forEach(function(n_mfcc){
        REDUCTION_METHODS.forEach(function(reduction_method){

            createRow(tbody3, track_length, n_mfcc, reduction_method, 3)

        })
        })
        })

    </script>




</body>
</html>
